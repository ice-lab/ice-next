import { runServerApp } from '@ice/runtime';
import appConfig from '@/app';
import runtimeModules from './runtimeModules';
import Document from '@/document';
import assetsManifest from './assets-manifest.json';
import routes from './routes';

export async function render(requestContext, renderOpts) {
  return await runServerApp(requestContext, {
    appConfig,
    assetsManifest,
    documentComponent: Document,
    routes,
    requestContext,
    runtimeModules,
    ...renderOpts
  });
}