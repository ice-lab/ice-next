import './env.server';
import * as runtime from '@ice/runtime/server';
import * as app from '@/app';
import runtimeModules from './runtimeModules';
import Document from '@/document';
import assetsManifest from './assets-manifest.json';
import routes from './routes';

export async function renderToHTML(requestContext, options) {
  return await runtime.renderToHTML(requestContext, {
    app,
    assetsManifest,
    routes,
    runtimeModules,
    Document,
    ...options,
  });
}

export async function renderToResponse(requestContext, options) {
  runtime.renderToResponse(requestContext, {
    app,
    assetsManifest,
    routes,
    runtimeModules,
    Document,
    ...options,
  });
}