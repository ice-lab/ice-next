import { runClientApp } from '@ice/runtime';
import * as app from '@/app';
import runtimeModules from './runtimeModules';
import routes from './routes';
import Document from '@/document';


import { isInIcestark, setLibraryName } from '@ice/stark-app';

setLibraryName('icestark-child');

if (!isInIcestark()) {
  runClientApp({
    app,
    runtimeModules,
    routes,
    Document
  });
}

export function mount () {
  runClientApp({
    app,
    runtimeModules,
    routes,
    Document
  });
}

export function unmount ({ container }) {
  ReactDOM.unmountComponentAtNode(container);
}
