import { dataLoader } from '@ice/runtime';
<% if(hasExportAppData) {-%>import { getAppData } from '@/app';<% } -%>

<% if(dataLoaderImport.imports) {-%><%-dataLoaderImport.imports%><% } -%>

<% if (loaders) {-%>
<%- loaders %>
<% } else { -%>
const loaders = {};
<% } -%>

<% if(hasExportAppData) {-%>loaders['__app'] = getAppData;<% } -%>

<% if(!dataLoaderImport.imports) {-%>
let fetcher = (options) => {
  window.fetch(options.url, options);
}  
<% } -%>

dataLoader.init(loaders, fetcher);
