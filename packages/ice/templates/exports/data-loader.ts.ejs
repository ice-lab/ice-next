import { dataLoader } from '@ice/runtime';
<% if(hasExportAppData) {-%>import * as app from '@/app';<% } -%>

<% if(dataLoaderImport.imports) {-%><%-dataLoaderImport.imports%><% } -%>
import { statics } from './runtimeModules';

<% if (loaders) {-%>
<%- loaders %>
<% } else { -%>
const loaders = {};
<% } -%>

<% if(hasExportAppData) {-%>loaders['__app'] = app.getAppData;<% } -%>

<% if(!dataLoaderImport.imports) {-%>
let fetcher = (options) => {
  window.fetch(options.url, options);
}  
<% } -%>

dataLoader.init(loaders, {
  fetcher,
  runtimeModules: statics,
  appExport: app,
});
